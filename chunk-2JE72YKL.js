import{a as w}from"./chunk-BXZ6GHR6.js";import"./chunk-X5YLR3NI.js";import{a as V,b as S,c as k,d as I}from"./chunk-IL3KE6ZJ.js";import{c as M,l as T}from"./chunk-IJ5FWROB.js";import{Da as d,Ia as C,Ma as h,Ra as E,Z as s,_ as c,ab as x,bb as n,cb as o,eb as _,fb as u,gb as l,kb as m,lb as f,nb as y,ob as b,pb as v}from"./chunk-F6HRXSUH.js";import{i as g}from"./chunk-ODN5LVDJ.js";function W(r,i){if(r&1){let e=_();n(0,"div",2)(1,"input",3),v("ngModelChange",function(t){s(e);let p=l();return b(p.title,t)||(p.title=t),c(t)}),o(),n(2,"textarea",4),v("ngModelChange",function(t){s(e);let p=l();return b(p.body,t)||(p.body=t),c(t)}),o(),n(3,"div",5)(4,"button",6),u("click",function(){s(e);let t=l();return c(t.save())}),m(5," Gem "),o(),n(6,"button",7),u("click",function(){s(e);let t=l();return c(t.cancel())}),m(7," Annuller "),o()()()}if(r&2){let e=l();d(),y("ngModel",e.title),d(),y("ngModel",e.body)}}function N(r,i){if(r&1){let e=_();n(0,"div",2)(1,"h2",8),m(2),o(),n(3,"p",9),m(4),o(),n(5,"button",10),u("click",function(){s(e);let t=l();return c(t.editing=!0)}),m(6," Rediger "),o()()}if(r&2){let e=l();d(2),f(e.title),d(2),f(e.body)}}var D=class r{constructor(i){this.router=i;localStorage.getItem("admin")?this.loadData():this.router.navigate(["/login"])}title="";body="";editing=!0;loadData(){return g(this,null,function*(){let{data:i,error:e}=yield w.from("sections").select("*").eq("name","about").single();e?console.error("Fejl ved hentning:",e):(this.title=i.title,this.body=i.body)})}save(){return g(this,null,function*(){let{error:i}=yield w.from("sections").update({title:this.title,body:this.body}).eq("name","about");i?(console.error(i),alert("Fejl ved gem")):(alert("Gem succesfuld"),this.router.navigate(["/"]))})}cancel(){this.router.navigate(["/"])}static \u0275fac=function(e){return new(e||r)(C(T))};static \u0275cmp=h({type:r,selectors:[["app-edit"]],decls:3,vars:2,consts:[[1,"max-w-md","mx-auto","mt-10","p-6","bg-white","rounded-lg","shadow-md"],["class","flex flex-col gap-4",4,"ngIf"],[1,"flex","flex-col","gap-4"],["placeholder","Titel",1,"px-4","py-2","border","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-400",3,"ngModelChange","ngModel"],["rows","5",1,"px-4","py-2","border","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-400",3,"ngModelChange","ngModel"],[1,"flex","gap-4"],[1,"bg-green-500","text-white","px-4","py-2","rounded-md","hover:bg-green-600","transition-colors",3,"click"],[1,"bg-red-500","text-white","px-4","py-2","rounded-md","hover:bg-red-600","transition-colors",3,"click"],[1,"text-2xl","font-semibold","text-gray-800"],[1,"text-gray-700"],[1,"bg-yellow-500","text-white","px-4","py-2","rounded-md","hover:bg-yellow-600","transition-colors",3,"click"]],template:function(e,a){e&1&&(n(0,"div",0),E(1,W,8,2,"div",1)(2,N,7,2,"div",1),o()),e&2&&(d(),x("ngIf",a.editing),d(),x("ngIf",!a.editing))},dependencies:[I,V,S,k,M],encapsulation:2})};export{D as EditComponent};
